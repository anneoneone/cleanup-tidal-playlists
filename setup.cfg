[flake8]
max-line-length = 88
max-complexity = 10
exclude =
    .git,
    __pycache__,
    .pytest_cache,
    .mypy_cache,
    .tox,
    .venv,
    venv,
    .eggs,
    *.egg,
    dist,
    build,
    docs/_build,
    spikes,
    scripts
extend-ignore =
    # Line break before binary operator (conflicts with black)
    W503,
    # Line break after binary operator (conflicts with black)
    W504,
    # Missing docstring in public module (we'll handle this selectively)
    D100,
    # Missing docstring in public class (we'll handle this selectively)
    D101,
    # Missing docstring in public method (we'll handle this selectively)
    D102,
    # Missing docstring in public function (we'll handle this selectively)
    D103
per-file-ignores =
    # Allow missing docstrings in __init__.py files
    */__init__.py:D104
    # Allow missing docstrings in test files and assert statements
    tests/*:D100,D101,D102,D103,D104,S101
    # Allow subprocess and chmod in test files (used for mocking and cleanup)
    tests/test_file_service.py:D100,D101,D102,D103,D104,S101,S103,S404
    # Allow unused imports in __init__.py files (for re-exports)
    */__init__.py:F401
    # Allow subprocess usage in file service (legitimate use case with validation)
    src/tidal_cleanup/services/file_service.py:S404,S603
    # Allow xml.etree.ElementTree in rekordbox service (trusted XML generation)
    src/tidal_cleanup/services/rekordbox_service.py:S405
    # Allow bandit noqa comments
    src/tidal_cleanup/services/file_service.py:E501
    # Scripts: Allow more flexibility for example/utility scripts
    scripts/*:D100,D101,D102,D103,D202,D205,D400,D401,E402
    # Tests: Allow blank lines after docstring (conflicts with black formatting) and asserts
    tests/*.py:D202,S101
docstring-convention = google
